var Gt=Object.defineProperty;var Zt=Object.getOwnPropertyDescriptor;var D=(r,e,t,o)=>{for(var s=o>1?void 0:o?Zt(e,t):e,n=r.length-1,i;n>=0;n--)(i=r[n])&&(s=(o?i(e,t,s):i(s))||s);return o&&s&&Gt(e,t,s),s};var Ee=globalThis,Ae=Ee.ShadowRoot&&(Ee.ShadyCSS===void 0||Ee.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ut=Symbol(),dt=new WeakMap,ie=class{constructor(e,t,o){if(this._$cssResult$=!0,o!==ut)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o,t=this.t;if(Ae&&e===void 0){let o=t!==void 0&&t.length===1;o&&(e=dt.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&dt.set(t,e))}return e}toString(){return this.cssText}},ae=r=>new ie(typeof r=="string"?r:r+"",void 0,ut);var ht=(r,e)=>{if(Ae)r.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(let t of e){let o=document.createElement("style"),s=Ee.litNonce;s!==void 0&&o.setAttribute("nonce",s),o.textContent=t.cssText,r.appendChild(o)}},Ge=Ae?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(let o of e.cssRules)t+=o.cssText;return ae(t)})(r):r;var{is:Qt,defineProperty:Yt,getOwnPropertyDescriptor:Xt,getOwnPropertyNames:er,getOwnPropertySymbols:tr,getPrototypeOf:rr}=Object,ke=globalThis,ft=ke.trustedTypes,or=ft?ft.emptyScript:"",sr=ke.reactiveElementPolyfillSupport,le=(r,e)=>r,ce={toAttribute(r,e){switch(e){case Boolean:r=r?or:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},Se=(r,e)=>!Qt(r,e),mt={attribute:!0,type:String,converter:ce,reflect:!1,useDefault:!1,hasChanged:Se};Symbol.metadata??=Symbol("metadata"),ke.litPropertyMetadata??=new WeakMap;var j=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=mt){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){let o=Symbol(),s=this.getPropertyDescriptor(e,o,t);s!==void 0&&Yt(this.prototype,e,s)}}static getPropertyDescriptor(e,t,o){let{get:s,set:n}=Xt(this.prototype,e)??{get(){return this[t]},set(i){this[t]=i}};return{get:s,set(i){let c=s?.call(this);n?.call(this,i),this.requestUpdate(e,c,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??mt}static _$Ei(){if(this.hasOwnProperty(le("elementProperties")))return;let e=rr(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(le("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(le("properties"))){let t=this.properties,o=[...er(t),...tr(t)];for(let s of o)this.createProperty(s,t[s])}let e=this[Symbol.metadata];if(e!==null){let t=litPropertyMetadata.get(e);if(t!==void 0)for(let[o,s]of t)this.elementProperties.set(o,s)}this._$Eh=new Map;for(let[t,o]of this.elementProperties){let s=this._$Eu(t,o);s!==void 0&&this._$Eh.set(s,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){let t=[];if(Array.isArray(e)){let o=new Set(e.flat(1/0).reverse());for(let s of o)t.unshift(Ge(s))}else e!==void 0&&t.push(Ge(e));return t}static _$Eu(e,t){let o=t.attribute;return o===!1?void 0:typeof o=="string"?o:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){let e=new Map,t=this.constructor.elementProperties;for(let o of t.keys())this.hasOwnProperty(o)&&(e.set(o,this[o]),delete this[o]);e.size>0&&(this._$Ep=e)}createRenderRoot(){let e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ht(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,t,o){this._$AK(e,o)}_$ET(e,t){let o=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,o);if(s!==void 0&&o.reflect===!0){let n=(o.converter?.toAttribute!==void 0?o.converter:ce).toAttribute(t,o.type);this._$Em=e,n==null?this.removeAttribute(s):this.setAttribute(s,n),this._$Em=null}}_$AK(e,t){let o=this.constructor,s=o._$Eh.get(e);if(s!==void 0&&this._$Em!==s){let n=o.getPropertyOptions(s),i=typeof n.converter=="function"?{fromAttribute:n.converter}:n.converter?.fromAttribute!==void 0?n.converter:ce;this._$Em=s;let c=i.fromAttribute(t,n.type);this[s]=c??this._$Ej?.get(s)??c,this._$Em=null}}requestUpdate(e,t,o){if(e!==void 0){let s=this.constructor,n=this[e];if(o??=s.getPropertyOptions(e),!((o.hasChanged??Se)(n,t)||o.useDefault&&o.reflect&&n===this._$Ej?.get(e)&&!this.hasAttribute(s._$Eu(e,o))))return;this.C(e,t,o)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:o,reflect:s,wrapped:n},i){o&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,i??t??this[e]),n!==!0||i!==void 0)||(this._$AL.has(e)||(this.hasUpdated||o||(t=void 0),this._$AL.set(e,t)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(let[s,n]of this._$Ep)this[s]=n;this._$Ep=void 0}let o=this.constructor.elementProperties;if(o.size>0)for(let[s,n]of o){let{wrapped:i}=n,c=this[s];i!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,n,c)}}let e=!1,t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach((o=>o.hostUpdate?.())),this.update(t)):this._$EM()}catch(o){throw e=!1,this._$EM(),o}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(e){}firstUpdated(e){}};j.elementStyles=[],j.shadowRootOptions={mode:"open"},j[le("elementProperties")]=new Map,j[le("finalized")]=new Map,sr?.({ReactiveElement:j}),(ke.reactiveElementVersions??=[]).push("2.1.1");var Qe=globalThis,$e=Qe.trustedTypes,gt=$e?$e.createPolicy("lit-html",{createHTML:r=>r}):void 0,Ye="$lit$",V=`lit$${Math.random().toFixed(9).slice(2)}$`,Xe="?"+V,nr=`<${Xe}>`,Q=document,de=()=>Q.createComment(""),ue=r=>r===null||typeof r!="object"&&typeof r!="function",et=Array.isArray,At=r=>et(r)||typeof r?.[Symbol.iterator]=="function",Ze=`[ 	
\f\r]`,pe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,yt=/-->/g,bt=/>/g,G=RegExp(`>|${Ze}(?:([^\\s"'>=/]+)(${Ze}*=${Ze}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),vt=/'/g,xt=/"/g,kt=/^(?:script|style|textarea|title)$/i,tt=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),Me=tt(1),ir=tt(2),Nr=tt(3),M=Symbol.for("lit-noChange"),C=Symbol.for("lit-nothing"),Et=new WeakMap,Z=Q.createTreeWalker(Q,129);function St(r,e){if(!et(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return gt!==void 0?gt.createHTML(e):e}var $t=(r,e)=>{let t=r.length-1,o=[],s,n=e===2?"<svg>":e===3?"<math>":"",i=pe;for(let c=0;c<t;c++){let p=r[c],E,S,g=-1,h=0;for(;h<p.length&&(i.lastIndex=h,S=i.exec(p),S!==null);)h=i.lastIndex,i===pe?S[1]==="!--"?i=yt:S[1]!==void 0?i=bt:S[2]!==void 0?(kt.test(S[2])&&(s=RegExp("</"+S[2],"g")),i=G):S[3]!==void 0&&(i=G):i===G?S[0]===">"?(i=s??pe,g=-1):S[1]===void 0?g=-2:(g=i.lastIndex-S[2].length,E=S[1],i=S[3]===void 0?G:S[3]==='"'?xt:vt):i===xt||i===vt?i=G:i===yt||i===bt?i=pe:(i=G,s=void 0);let u=i===G&&r[c+1].startsWith("/>")?" ":"";n+=i===pe?p+nr:g>=0?(o.push(E),p.slice(0,g)+Ye+p.slice(g)+V+u):p+V+(g===-2?c:u)}return[St(r,n+(r[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),o]},he=class r{constructor({strings:e,_$litType$:t},o){let s;this.parts=[];let n=0,i=0,c=e.length-1,p=this.parts,[E,S]=$t(e,t);if(this.el=r.createElement(E,o),Z.currentNode=this.el.content,t===2||t===3){let g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(s=Z.nextNode())!==null&&p.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(let g of s.getAttributeNames())if(g.endsWith(Ye)){let h=S[i++],u=s.getAttribute(g).split(V),y=/([.?@])?(.*)/.exec(h);p.push({type:1,index:n,name:y[2],strings:u,ctor:y[1]==="."?_e:y[1]==="?"?Ce:y[1]==="@"?Te:X}),s.removeAttribute(g)}else g.startsWith(V)&&(p.push({type:6,index:n}),s.removeAttribute(g));if(kt.test(s.tagName)){let g=s.textContent.split(V),h=g.length-1;if(h>0){s.textContent=$e?$e.emptyScript:"";for(let u=0;u<h;u++)s.append(g[u],de()),Z.nextNode(),p.push({type:2,index:++n});s.append(g[h],de())}}}else if(s.nodeType===8)if(s.data===Xe)p.push({type:2,index:n});else{let g=-1;for(;(g=s.data.indexOf(V,g+1))!==-1;)p.push({type:7,index:n}),g+=V.length-1}n++}}static createElement(e,t){let o=Q.createElement("template");return o.innerHTML=e,o}};function Y(r,e,t=r,o){if(e===M)return e;let s=o!==void 0?t._$Co?.[o]:t._$Cl,n=ue(e)?void 0:e._$litDirective$;return s?.constructor!==n&&(s?._$AO?.(!1),n===void 0?s=void 0:(s=new n(r),s._$AT(r,t,o)),o!==void 0?(t._$Co??=[])[o]=s:t._$Cl=s),s!==void 0&&(e=Y(r,s._$AS(r,e.values),s,o)),e}var we=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){let{el:{content:t},parts:o}=this._$AD,s=(e?.creationScope??Q).importNode(t,!0);Z.currentNode=s;let n=Z.nextNode(),i=0,c=0,p=o[0];for(;p!==void 0;){if(i===p.index){let E;p.type===2?E=new te(n,n.nextSibling,this,e):p.type===1?E=new p.ctor(n,p.name,p.strings,this,e):p.type===6&&(E=new Le(n,this,e)),this._$AV.push(E),p=o[++c]}i!==p?.index&&(n=Z.nextNode(),i++)}return Z.currentNode=Q,s}p(e){let t=0;for(let o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(e,o,t),t+=o.strings.length-2):o._$AI(e[t])),t++}},te=class r{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,o,s){this.type=2,this._$AH=C,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=o,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode,t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=Y(this,e,t),ue(e)?e===C||e==null||e===""?(this._$AH!==C&&this._$AR(),this._$AH=C):e!==this._$AH&&e!==M&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):At(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==C&&ue(this._$AH)?this._$AA.nextSibling.data=e:this.T(Q.createTextNode(e)),this._$AH=e}$(e){let{values:t,_$litType$:o}=e,s=typeof o=="number"?this._$AC(e):(o.el===void 0&&(o.el=he.createElement(St(o.h,o.h[0]),this.options)),o);if(this._$AH?._$AD===s)this._$AH.p(t);else{let n=new we(s,this),i=n.u(this.options);n.p(t),this.T(i),this._$AH=n}}_$AC(e){let t=Et.get(e.strings);return t===void 0&&Et.set(e.strings,t=new he(e)),t}k(e){et(this._$AH)||(this._$AH=[],this._$AR());let t=this._$AH,o,s=0;for(let n of e)s===t.length?t.push(o=new r(this.O(de()),this.O(de()),this,this.options)):o=t[s],o._$AI(n),s++;s<t.length&&(this._$AR(o&&o._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){let o=e.nextSibling;e.remove(),e=o}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},X=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,o,s,n){this.type=1,this._$AH=C,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=n,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=C}_$AI(e,t=this,o,s){let n=this.strings,i=!1;if(n===void 0)e=Y(this,e,t,0),i=!ue(e)||e!==this._$AH&&e!==M,i&&(this._$AH=e);else{let c=e,p,E;for(e=n[0],p=0;p<n.length-1;p++)E=Y(this,c[o+p],t,p),E===M&&(E=this._$AH[p]),i||=!ue(E)||E!==this._$AH[p],E===C?e=C:e!==C&&(e+=(E??"")+n[p+1]),this._$AH[p]=E}i&&!s&&this.j(e)}j(e){e===C?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},_e=class extends X{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===C?void 0:e}},Ce=class extends X{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==C)}},Te=class extends X{constructor(e,t,o,s,n){super(e,t,o,s,n),this.type=5}_$AI(e,t=this){if((e=Y(this,e,t,0)??C)===M)return;let o=this._$AH,s=e===C&&o!==C||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,n=e!==C&&(o===C||s);s&&this.element.removeEventListener(this.name,this,o),n&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},Le=class{constructor(e,t,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){Y(this,e)}},wt={M:Ye,P:V,A:Xe,C:1,L:$t,R:we,D:At,V:Y,I:te,H:X,N:Ce,U:Te,B:_e,F:Le},ar=Qe.litHtmlPolyfillSupport;ar?.(he,te),(Qe.litHtmlVersions??=[]).push("3.3.1");var fe=(r,e,t)=>{let o=t?.renderBefore??e,s=o._$litPart$;if(s===void 0){let n=t?.renderBefore??null;o._$litPart$=s=new te(e.insertBefore(de(),n),n,void 0,t??{})}return s._$AI(r),s};var rt=globalThis,I=class extends j{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){let e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){let t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=fe(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return M}};I._$litElement$=!0,I.finalized=!0,rt.litElementHydrateSupport?.({LitElement:I});var lr=rt.litElementPolyfillSupport;lr?.({LitElement:I});(rt.litElementVersions??=[]).push("4.2.1");var ot=r=>(e,t)=>{t!==void 0?t.addInitializer((()=>{customElements.define(r,e)})):customElements.define(r,e)};var cr={attribute:!0,type:String,converter:ce,reflect:!1,hasChanged:Se},pr=(r=cr,e,t)=>{let{kind:o,metadata:s}=t,n=globalThis.litPropertyMetadata.get(s);if(n===void 0&&globalThis.litPropertyMetadata.set(s,n=new Map),o==="setter"&&((r=Object.create(r)).wrapped=!0),n.set(t.name,r),o==="accessor"){let{name:i}=t;return{set(c){let p=e.get.call(this);e.set.call(this,c),this.requestUpdate(i,p,r)},init(c){return c!==void 0&&this.C(i,void 0,r,c),c}}}if(o==="setter"){let{name:i}=t;return function(c){let p=this[i];e.call(this,c),this.requestUpdate(i,p,r)}}throw Error("Unsupported decorator location: "+o)};function q(r){return(e,t)=>typeof t=="object"?pr(r,e,t):((o,s,n)=>{let i=s.hasOwnProperty(n);return s.constructor.createProperty(n,o),i?Object.getOwnPropertyDescriptor(s,n):void 0})(r,e,t)}function ee(r){return q({...r,state:!0,attribute:!1})}var P={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},B=r=>(...e)=>({_$litDirective$:r,values:e}),R=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,o){this._$Ct=e,this._$AM=t,this._$Ci=o}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};var dr=B(class extends R{constructor(r){if(super(r),r.type!==P.ATTRIBUTE||r.name!=="class"||r.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter((e=>r[e])).join(" ")+" "}update(r,[e]){if(this.st===void 0){this.st=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter((o=>o!==""))));for(let o in e)e[o]&&!this.nt?.has(o)&&this.st.add(o);return this.render(e)}let t=r.element.classList;for(let o of this.st)o in e||(t.remove(o),this.st.delete(o));for(let o in e){let s=!!e[o];s===this.st.has(o)||this.nt?.has(o)||(s?(t.add(o),this.st.add(o)):(t.remove(o),this.st.delete(o)))}return M}});var{I:ur}=wt;var Ct=r=>r.strings===void 0,_t=()=>document.createComment(""),re=(r,e,t)=>{let o=r._$AA.parentNode,s=e===void 0?r._$AB:e._$AA;if(t===void 0){let n=o.insertBefore(_t(),s),i=o.insertBefore(_t(),s);t=new ur(n,i,r,r.options)}else{let n=t._$AB.nextSibling,i=t._$AM,c=i!==r;if(c){let p;t._$AQ?.(r),t._$AM=r,t._$AP!==void 0&&(p=r._$AU)!==i._$AU&&t._$AP(p)}if(n!==s||c){let p=t._$AA;for(;p!==n;){let E=p.nextSibling;o.insertBefore(p,s),p=E}}}return t},K=(r,e,t=r)=>(r._$AI(e,t),r),hr={},Pe=(r,e=hr)=>r._$AH=e,Tt=r=>r._$AH,Re=r=>{r._$AR(),r._$AA.remove()};var fr=B(class extends R{constructor(r){if(super(r),r.type!==P.PROPERTY&&r.type!==P.ATTRIBUTE&&r.type!==P.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Ct(r))throw Error("`live` bindings can only contain a single expression")}render(r){return r}update(r,[e]){if(e===M||e===C)return e;let t=r.element,o=r.name;if(r.type===P.PROPERTY){if(e===t[o])return M}else if(r.type===P.BOOLEAN_ATTRIBUTE){if(!!e===t.hasAttribute(o))return M}else if(r.type===P.ATTRIBUTE&&t.getAttribute(o)===e+"")return M;return Pe(r),e}});var Lt=(r,e,t)=>{let o=new Map;for(let s=e;s<=t;s++)o.set(r[s],s);return o},mr=B(class extends R{constructor(r){if(super(r),r.type!==P.CHILD)throw Error("repeat() can only be used in text expressions")}dt(r,e,t){let o;t===void 0?t=e:e!==void 0&&(o=e);let s=[],n=[],i=0;for(let c of r)s[i]=o?o(c,i):i,n[i]=t(c,i),i++;return{values:n,keys:s}}render(r,e,t){return this.dt(r,e,t).values}update(r,[e,t,o]){let s=Tt(r),{values:n,keys:i}=this.dt(e,t,o);if(!Array.isArray(s))return this.ut=i,n;let c=this.ut??=[],p=[],E,S,g=0,h=s.length-1,u=0,y=n.length-1;for(;g<=h&&u<=y;)if(s[g]===null)g++;else if(s[h]===null)h--;else if(c[g]===i[u])p[u]=K(s[g],n[u]),g++,u++;else if(c[h]===i[y])p[y]=K(s[h],n[y]),h--,y--;else if(c[g]===i[y])p[y]=K(s[g],n[y]),re(r,p[y+1],s[g]),g++,y--;else if(c[h]===i[u])p[u]=K(s[h],n[u]),re(r,s[g],s[h]),h--,u++;else if(E===void 0&&(E=Lt(i,u,y),S=Lt(c,g,h)),E.has(c[g]))if(E.has(c[h])){let x=S.get(i[u]),w=x!==void 0?s[x]:null;if(w===null){let k=re(r,s[g]);K(k,n[u]),p[u]=k}else p[u]=K(w,n[u]),re(r,s[g],w),s[x]=null;u++}else Re(s[h]),h--;else Re(s[g]),g++;for(;u<=y;){let x=re(r,p[y+1]);K(x,n[u]),p[u++]=x}for(;g<=h;){let x=s[g++];x!==null&&Re(x)}return this.ut=i,Pe(r,p),M}});var Mt="important",gr=" !"+Mt,yr=B(class extends R{constructor(r){if(super(r),r.type!==P.ATTRIBUTE||r.name!=="style"||r.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(r){return Object.keys(r).reduce(((e,t)=>{let o=r[t];return o==null?e:e+`${t=t.includes("-")?t:t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${o};`}),"")}update(r,[e]){let{style:t}=r.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(let o of this.ft)e[o]==null&&(this.ft.delete(o),o.includes("-")?t.removeProperty(o):t[o]=null);for(let o in e){let s=e[o];if(s!=null){this.ft.add(o);let n=typeof s=="string"&&s.endsWith(gr);o.includes("-")||n?t.setProperty(o,n?s.slice(0,-11):s,n?Mt:""):t[o]=s}}return M}});var me=class extends R{constructor(e){if(super(e),this.it=C,e.type!==P.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===C||e==null)return this._t=void 0,this.it=e;if(e===M)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;let t=[e];return t.raw=t,this._t={_$litType$:this.constructor.resultType,strings:t,values:[]}}};me.directiveName="unsafeHTML",me.resultType=1;var br=B(me);var st=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function nt(r,e,t,o){r.addEventListener?r.addEventListener(e,t,o):r.attachEvent&&r.attachEvent(`on${e}`,t)}function ge(r,e,t,o){r&&(r.removeEventListener?r.removeEventListener(e,t,o):r.detachEvent&&r.detachEvent(`on${e}`,t))}function Rt(r,e){let t=e.slice(0,e.length-1),o=[];for(let s=0;s<t.length;s++)o.push(r[t[s].toLowerCase()]);return o}function Ht(r){typeof r!="string"&&(r=""),r=r.replace(/\s/g,"");let e=r.split(","),t=e.lastIndexOf("");for(;t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function vr(r,e){let t=r.length>=e.length?r:e,o=r.length>=e.length?e:r,s=!0;for(let n=0;n<t.length;n++)o.indexOf(t[n])===-1&&(s=!1);return s}function Dt(r){let e=r.keyCode||r.which||r.charCode;return r.code&&/^Key[A-Z]$/.test(r.code)&&(e=r.code.charCodeAt(3)),e}var ve={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":st?173:189,"=":st?61:187,";":st?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},N={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,meta:91,command:91},ye={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},O={16:!1,18:!1,17:!1,91:!1},L={};for(let r=1;r<20;r++)ve[`f${r}`]=111+r;var T=[],be=null,Nt="all",z=new Map,oe=r=>ve[r.toLowerCase()]||N[r.toLowerCase()]||r.toUpperCase().charCodeAt(0),xr=r=>Object.keys(ve).find(e=>ve[e]===r),Er=r=>Object.keys(N).find(e=>N[e]===r),It=r=>{Nt=r||"all"},xe=()=>Nt||"all",Ar=()=>T.slice(0),kr=()=>T.map(r=>xr(r)||Er(r)||String.fromCharCode(r)),Sr=()=>{let r=[];return Object.keys(L).forEach(e=>{L[e].forEach(({key:t,scope:o,mods:s,shortcut:n})=>{r.push({scope:o,shortcut:n,mods:s,keys:t.split("+").map(i=>oe(i))})})}),r},Bt=r=>{let e=r.target||r.srcElement,{tagName:t}=e,o=!0,s=t==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(e.type);return(e.isContentEditable||(s||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(o=!1),o},$r=r=>(typeof r=="string"&&(r=oe(r)),T.indexOf(r)!==-1),wr=(r,e)=>{let t,o;r||(r=xe());for(let s in L)if(Object.prototype.hasOwnProperty.call(L,s))for(t=L[s],o=0;o<t.length;)t[o].scope===r?t.splice(o,1).forEach(({element:n})=>at(n)):o++;xe()===r&&It(e||"all")};function _r(r){let e=Dt(r);r.key&&r.key.toLowerCase()==="capslock"&&(e=oe(r.key));let t=T.indexOf(e);if(t>=0&&T.splice(t,1),r.key&&r.key.toLowerCase()==="meta"&&T.splice(0,T.length),(e===93||e===224)&&(e=91),e in O){O[e]=!1;for(let o in N)N[o]===e&&(W[o]=!1)}}var Ut=(r,...e)=>{if(typeof r>"u")Object.keys(L).forEach(t=>{Array.isArray(L[t])&&L[t].forEach(o=>He(o)),delete L[t]}),at(null);else if(Array.isArray(r))r.forEach(t=>{t.key&&He(t)});else if(typeof r=="object")r.key&&He(r);else if(typeof r=="string"){let[t,o]=e;typeof t=="function"&&(o=t,t=""),He({key:r,scope:t,method:o,splitKey:"+"})}},He=({key:r,scope:e,method:t,splitKey:o="+"})=>{Ht(r).forEach(s=>{let n=s.split(o),i=n.length,c=n[i-1],p=c==="*"?"*":oe(c);if(!L[p])return;e||(e=xe());let E=i>1?Rt(N,n):[],S=[];L[p]=L[p].filter(g=>{let h=(t?g.method===t:!0)&&g.scope===e&&vr(g.mods,E);return h&&S.push(g.element),!h}),S.forEach(g=>at(g))})};function Ot(r,e,t,o){if(e.element!==o)return;let s;if(e.scope===t||e.scope==="all"){s=e.mods.length>0;for(let n in O)Object.prototype.hasOwnProperty.call(O,n)&&(!O[n]&&e.mods.indexOf(+n)>-1||O[n]&&e.mods.indexOf(+n)===-1)&&(s=!1);(e.mods.length===0&&!O[16]&&!O[18]&&!O[17]&&!O[91]||s||e.shortcut==="*")&&(e.keys=[],e.keys=e.keys.concat(T),e.method(r,e)===!1&&(r.preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation&&r.stopPropagation(),r.cancelBubble&&(r.cancelBubble=!0)))}}function Pt(r,e){let t=L["*"],o=Dt(r);if(r.key&&r.key.toLowerCase()==="capslock"||!(W.filter||Bt).call(this,r))return;if((o===93||o===224)&&(o=91),T.indexOf(o)===-1&&o!==229&&T.push(o),["metaKey","ctrlKey","altKey","shiftKey"].forEach(c=>{let p=ye[c];r[c]&&T.indexOf(p)===-1?T.push(p):!r[c]&&T.indexOf(p)>-1?T.splice(T.indexOf(p),1):c==="metaKey"&&r[c]&&(T=T.filter(E=>E in ye||E===o))}),o in O){O[o]=!0;for(let c in N)if(Object.prototype.hasOwnProperty.call(N,c)){let p=ye[N[c]];W[c]=r[p]}if(!t)return}for(let c in O)Object.prototype.hasOwnProperty.call(O,c)&&(O[c]=r[ye[c]]);r.getModifierState&&!(r.altKey&&!r.ctrlKey)&&r.getModifierState("AltGraph")&&(T.indexOf(17)===-1&&T.push(17),T.indexOf(18)===-1&&T.push(18),O[17]=!0,O[18]=!0);let s=xe();if(t)for(let c=0;c<t.length;c++)t[c].scope===s&&(r.type==="keydown"&&t[c].keydown||r.type==="keyup"&&t[c].keyup)&&Ot(r,t[c],s,e);if(!(o in L))return;let n=L[o],i=n.length;for(let c=0;c<i;c++)if((r.type==="keydown"&&n[c].keydown||r.type==="keyup"&&n[c].keyup)&&n[c].key){let p=n[c],{splitKey:E}=p,S=p.key.split(E),g=[];for(let h=0;h<S.length;h++)g.push(oe(S[h]));g.sort().join("")===T.sort().join("")&&Ot(r,p,s,e)}}var W=function(r,e,t){T=[];let o=Ht(r),s=[],n="all",i=document,c=0,p=!1,E=!0,S="+",g=!1,h=!1;if(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"){let u=e;u.scope&&(n=u.scope),u.element&&(i=u.element),u.keyup&&(p=u.keyup),u.keydown!==void 0&&(E=u.keydown),u.capture!==void 0&&(g=u.capture),typeof u.splitKey=="string"&&(S=u.splitKey),u.single===!0&&(h=!0)}for(typeof e=="string"&&(n=e),h&&Ut(r,n);c<o.length;c++){let u=o[c].split(S);s=[],u.length>1&&(s=Rt(N,u));let y=u[u.length-1];y=y==="*"?"*":oe(y),y in L||(L[y]=[]),L[y].push({keyup:p,keydown:E,scope:n,mods:s,shortcut:o[c],method:t,key:o[c],splitKey:S,element:i})}if(typeof i<"u"&&typeof window<"u"){if(!z.has(i)){let u=(x=window.event)=>Pt(x,i),y=(x=window.event)=>{Pt(x,i),_r(x)};z.set(i,{keydownListener:u,keyupListenr:y,capture:g}),nt(i,"keydown",u,g),nt(i,"keyup",y,g)}if(!be){let u=()=>{T=[]};be={listener:u,capture:g},nt(window,"focus",u,g)}}};function Cr(r,e="all"){Object.keys(L).forEach(t=>{L[t].filter(o=>o.scope===e&&o.shortcut===r).forEach(o=>{o&&o.method&&o.method({},o)})})}function at(r){let e=Object.values(L).flat();if(e.findIndex(({element:t})=>t===r)<0&&r){let{keydownListener:t,keyupListenr:o,capture:s}=z.get(r)||{};t&&o&&(ge(r,"keyup",o,s),ge(r,"keydown",t,s),z.delete(r))}if((e.length<=0||z.size<=0)&&(Array.from(z.keys()).forEach(t=>{let{keydownListener:o,keyupListenr:s,capture:n}=z.get(t)||{};o&&s&&(ge(t,"keyup",s,n),ge(t,"keydown",o,n),z.delete(t))}),z.clear(),Object.keys(L).forEach(t=>delete L[t]),be)){let{listener:t,capture:o}=be;ge(window,"focus",t,o),be=null}}var it={getPressedKeyString:kr,setScope:It,getScope:xe,deleteScope:wr,getPressedKeyCodes:Ar,getAllKeyCodes:Sr,isPressed:$r,filter:Bt,trigger:Cr,unbind:Ut,keyMap:ve,modifier:N,modifierMap:ye};for(let r in it){let e=r;Object.prototype.hasOwnProperty.call(it,e)&&(W[e]=it[e])}if(typeof window<"u"){let r=window.hotkeys;W.noConflict=e=>(e&&window.hotkeys===W&&(window.hotkeys=r),W),window.hotkeys=W}var jt=r=>{class e extends r{constructor(){super(...arguments);this.#e=!1;this.initialReflectedProperties=new Map}#e;attributeChangedCallback(s,n,i){if(!this.#e){let c=this;this.constructor.elementProperties.forEach((p,E)=>{p.reflect&&c[E]!=null&&this.initialReflectedProperties.set(E,c[E])}),this.initialReflectedProperties.set("slot",this.slot),this.#e=!0}super.attributeChangedCallback?.(s,n,i)}willUpdate(s){super.willUpdate?.(s);let n=this;this.initialReflectedProperties.forEach((i,c)=>{s.has(c)&&n[c]==null&&(n[c]=i)})}}return D([ee()],e.prototype,"initialReflectedProperties",2),e};function lt(r,e,{signal:t,edges:o}={}){let s,n=null,i=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),p=()=>{n!==null&&(r.apply(s,n),s=void 0,n=null)},E=()=>{c&&p(),u()},S=null,g=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,E()},e)},h=()=>{S!==null&&(clearTimeout(S),S=null)},u=()=>{h(),s=void 0,n=null},y=()=>{p()},x=function(...w){if(t?.aborted)return;s=this,n=w;let k=S==null;g(),i&&k&&p()};return x.schedule=g,x.cancel=u,x.flush=y,t?.addEventListener("abort",u,{once:!0}),x}function De(r){if(!r||typeof r!="object")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function ct(r){return r!=null}function se(r){return typeof r=="string"}var Ne=class extends Event{constructor(e,t){super(e,{bubbles:!0,cancelable:!1,composed:!0}),this.detail=t}};var Ie=class extends Ne{constructor(e,t={}){super("lb-command",{bubbles:!0,cancelable:!1,composed:!0}),this.command=e,this.detail=t}};var Be=class extends Event{constructor(e={value:void 0,oldValue:void 0}){super("lb-data",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var Ue=class extends Event{constructor(e={}){super("lb-display-mode-change",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var je=class extends Event{constructor(e){super("lb-drag-end",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var Ve=class extends Event{constructor(e){super("lb-drag-start",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var ze=class extends Event{constructor(e={}){super("lb-error",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var We=class extends Event{constructor(e={}){super("lb-param-change",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var qe=class extends Event{constructor(e){super("lb-popover-close",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var Ke=class extends Event{constructor(e){super("lb-popover-open",{bubbles:!0,cancelable:!1,composed:!0}),this.detail=e}};var Je=class extends Event{constructor(e){super("lb-resize",{bubbles:!1,cancelable:!1,composed:!0}),this.detail=e}};var Vt={"lb-command":Ie,"lb-data":Be,"lb-drag-start":Ve,"lb-drag-end":je,"lb-error":ze,"lb-resize":Je,"lb-popover-open":Ke,"lb-popover-close":qe,"lb-param-change":We,"lb-display-mode-change":Ue};function zt(r){return!r.hasAttribute("target")}function Wt(r){return Vt[r]}var qt=`:host {
  box-sizing: border-box;
  color: var(--lookbook-text-base);
  font-weight: var(--lookbook-font-weight-normal);
  font-size: var(--lookbook-font-size-md);
  font-family: var(--lookbook-font-family);
  line-height: 1.1;
  display: block;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  scrollbar-color: var(--lookbook-neutral-fill-quiet) transparent;
  scrollbar-width: thin;
}
:host *,
:host *::before,
:host *::after {
  box-sizing: border-box;
}
button {
  all: unset;
  display: revert;
}
ol,
ul,
menu {
  all: unset;
  display: revert;
}
input,
button,
textarea,
select {
  font-family: inherit;
  font-size: inherit;
}
a {
  text-decoration: none;
  color: currentColor;
}
[hidden] {
  display: none !important;
}
::selection {
  background-color: var(--lookbook-selection-background-color);
  color: var(--lookbook-selection-color);
  text-shadow: none !important;
}
.vh {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  white-space: nowrap;
  clip-path: inset(50%);
}
:host([divider]) {
  border-width: 0;
  border-style: solid;
  border-color: var(--lookbook-divider-color);
}
:host([divider="block-start"]) {
  border-block-start-width: var(--lookbook-divider-width);
}
:host([divider="block-end"]) {
  border-block-end-width: var(--lookbook-divider-width);
}
:host([divider="inline-start"]) {
  border-inline-start-width: var(--lookbook-divider-width);
}
:host([divider="inline-end"]) {
  border-inline-end-width: var(--lookbook-divider-width);
}
:host([surface="1"]) {
  background-color: var(--lookbook-surface-1);
}
:host([surface="2"]) {
  background-color: var(--lookbook-surface-2);
}
:host([surface="3"]) {
  background-color: var(--lookbook-surface-3);
}
wa-split-panel {
  --divider-width: var(--lookbook-divider-width);
  &::part(divider) {
    background-color: var(--lookbook-divider-color);
  }
}
wa-popover {
  --wa-color-text-normal: var(--lookbook-neutral-text-on-quiet);
  --wa-font-size-m: var(--lookbook-font-size-md);
  --wa-panel-border-width: 1px;
  --wa-color-surface-border: var(--lookbook-divider-color);
  --wa-panel-border-radius: var(--lookbook-size-xs);
  --wa-panel-border-style: solid;
  --wa-shadow-l: var(--lookbook-shadow-quiet);
  --wa-color-surface-default: var(--lookbook-surface-1);
  --wa-line-height-normal: var(--lookbook-line-height);
  --arrow-size: 0;
  --max-width: 15rem;
  --hide-duration: 30ms;
  --show-duration: 30ms;
}
`;var J=class extends jt(I){constructor(){super();this.cleanupJobs=[]}static{this.shadowRootOptions={...I.shadowRootOptions,serializable:!0}}static{this.morphable=!0}static get styles(){let t=Array.isArray(this.css)?this.css:this.css?[this.css]:[];return[qt,...t].map(o=>typeof o=="string"?ae(o):o)}afterMorph(){}get morphable(){return!!this.getStaticProperty("morphable")}disconnectedCallback(){this.cleanupJobs.forEach(t=>t()),super.disconnectedCallback()}addCleanupJob(t){this.cleanupJobs.push(t)}renderToTarget(t,o){fe(o,t)}on(t,o){this.addEventListener(t,o),this.addCleanupJob(()=>this.removeEventListener(t,o))}delegate(t,o){document.addEventListener(t,o),this.addCleanupJob(()=>document.removeEventListener(t,o))}dispatch(t,...o){let s=Wt(t),n=this;if(!s){console.warn(`Unknown event type '${t}'`);return}let i=null;if(De(o[0])?(i=o[0],o=[]):o.length>0&&De(o[o.length-1])&&(i=o.pop()),i?.target){let p=se(i.target)?document.querySelector(`#${i.target}`):n;p&&(n=p)}let c=[...o,i].filter(ct);n.dispatchEvent(new s(...c))}getStaticProperty(t){return this.constructor[t]}warn(t){se(t)&&(t=new Error(t)),this.dispatch("lb-error",{error:t}),console.error(t)}};D([ee()],J.prototype,"cleanupJobs",2);var ne=class{constructor(e=null){this.scope=e,this.scopeName=e!==null?`${e.charAt(0).toUpperCase()}${e.slice(1)}`:null}log(...e){return console.log(...this._buildArgs("log",e))}info(...e){return console.info(...this._buildArgs("info",e))}debug(...e){return console.debug(...this._buildArgs("debug",e))}warn(...e){return console.warn(...this._buildArgs("warn",e))}error(...e){return console.error(...this._buildArgs("error",e))}_buildArgs(e,t){return[`(lookbook/${this.scope})`,...t]}};var Kt=(function(){"use strict";let r=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:r,afterNodeAdded:r,beforeNodeMorphed:r,afterNodeMorphed:r,beforeNodeRemoved:r,afterNodeRemoved:r,beforeAttributeUpdated:r},head:{style:"merge",shouldPreserve:h=>h.getAttribute("im-preserve")==="true",shouldReAppend:h=>h.getAttribute("im-re-append")==="true",shouldRemove:r,afterHeadMorphed:r},restoreFocus:!0};function t(h,u,y={}){h=S(h);let x=g(u),w=E(h,x,y),k=s(w,()=>c(w,h,x,d=>d.morphStyle==="innerHTML"?(n(d,h,x),Array.from(h.childNodes)):o(d,h,x)));return w.pantry.remove(),k}function o(h,u,y){let x=g(u);return n(h,x,y,u,u.nextSibling),Array.from(x.childNodes)}function s(h,u){if(!h.config.restoreFocus)return u();let y=document.activeElement;if(!(y instanceof HTMLInputElement||y instanceof HTMLTextAreaElement))return u();let{id:x,selectionStart:w,selectionEnd:k}=y,d=u();return x&&x!==document.activeElement?.getAttribute("id")&&(y=h.target.querySelector(`[id="${x}"]`),y?.focus()),y&&!y.selectionEnd&&k&&y.setSelectionRange(w,k),d}let n=(function(){function h(a,l,m,f=null,v=null){l instanceof HTMLTemplateElement&&m instanceof HTMLTemplateElement&&(l=l.content,m=m.content),f||=l.firstChild;for(let A of m.childNodes){if(f&&f!=v){let _=y(a,A,f,v);if(_){_!==f&&w(a,f,_),i(_,A,a),f=_.nextSibling;continue}}if(A instanceof Element){let _=A.getAttribute("id");if(a.persistentIds.has(_)){let U=k(l,_,f,a);i(U,A,a),f=U.nextSibling;continue}}let $=u(l,A,f,a);$&&(f=$.nextSibling)}for(;f&&f!=v;){let A=f;f=f.nextSibling,x(a,A)}}function u(a,l,m,f){if(f.callbacks.beforeNodeAdded(l)===!1)return null;if(f.idMap.has(l)){let v=document.createElement(l.tagName);return a.insertBefore(v,m),i(v,l,f),f.callbacks.afterNodeAdded(v),v}else{let v=document.importNode(l,!0);return a.insertBefore(v,m),f.callbacks.afterNodeAdded(v),v}}let y=(function(){function a(f,v,A,$){let _=null,U=v.nextSibling,pt=0,H=A;for(;H&&H!=$;){if(m(H,v)){if(l(f,H,v))return H;_===null&&(f.idMap.has(H)||(_=H))}if(_===null&&U&&m(H,U)&&(pt++,U=U.nextSibling,pt>=2&&(_=void 0)),f.activeElementAndParents.includes(H))break;H=H.nextSibling}return _||null}function l(f,v,A){let $=f.idMap.get(v),_=f.idMap.get(A);if(!_||!$)return!1;for(let U of $)if(_.has(U))return!0;return!1}function m(f,v){let A=f,$=v;return A.nodeType===$.nodeType&&A.tagName===$.tagName&&(!A.getAttribute?.("id")||A.getAttribute?.("id")===$.getAttribute?.("id"))}return a})();function x(a,l){if(a.idMap.has(l))b(a.pantry,l,null);else{if(a.callbacks.beforeNodeRemoved(l)===!1)return;l.parentNode?.removeChild(l),a.callbacks.afterNodeRemoved(l)}}function w(a,l,m){let f=l;for(;f&&f!==m;){let v=f;f=f.nextSibling,x(a,v)}return f}function k(a,l,m,f){let v=f.target.getAttribute?.("id")===l&&f.target||f.target.querySelector(`[id="${l}"]`)||f.pantry.querySelector(`[id="${l}"]`);return d(v,f),b(a,v,m),v}function d(a,l){let m=a.getAttribute("id");for(;a=a.parentNode;){let f=l.idMap.get(a);f&&(f.delete(m),f.size||l.idMap.delete(a))}}function b(a,l,m){if(a.moveBefore)try{a.moveBefore(l,m)}catch{a.insertBefore(l,m)}else a.insertBefore(l,m)}return h})(),i=(function(){function h(d,b,a){return a.ignoreActive&&d===document.activeElement?null:(a.callbacks.beforeNodeMorphed(d,b)===!1||(d instanceof HTMLHeadElement&&a.head.ignore||(d instanceof HTMLHeadElement&&a.head.style!=="morph"?p(d,b,a):(u(d,b,a),k(d,a)||n(a,d,b))),a.callbacks.afterNodeMorphed(d,b)),d)}function u(d,b,a){let l=b.nodeType;if(l===1){let m=d,f=b,v=m.attributes,A=f.attributes;for(let $ of A)w($.name,m,"update",a)||m.getAttribute($.name)!==$.value&&m.setAttribute($.name,$.value);for(let $=v.length-1;0<=$;$--){let _=v[$];if(_&&!f.hasAttribute(_.name)){if(w(_.name,m,"remove",a))continue;m.removeAttribute(_.name)}}k(m,a)||y(m,f,a)}(l===8||l===3)&&d.nodeValue!==b.nodeValue&&(d.nodeValue=b.nodeValue)}function y(d,b,a){if(d instanceof HTMLInputElement&&b instanceof HTMLInputElement&&b.type!=="file"){let l=b.value,m=d.value;x(d,b,"checked",a),x(d,b,"disabled",a),b.hasAttribute("value")?m!==l&&(w("value",d,"update",a)||(d.setAttribute("value",l),d.value=l)):w("value",d,"remove",a)||(d.value="",d.removeAttribute("value"))}else if(d instanceof HTMLOptionElement&&b instanceof HTMLOptionElement)x(d,b,"selected",a);else if(d instanceof HTMLTextAreaElement&&b instanceof HTMLTextAreaElement){let l=b.value,m=d.value;if(w("value",d,"update",a))return;l!==m&&(d.value=l),d.firstChild&&d.firstChild.nodeValue!==l&&(d.firstChild.nodeValue=l)}}function x(d,b,a,l){let m=b[a],f=d[a];if(m!==f){let v=w(a,d,"update",l);v||(d[a]=b[a]),m?v||d.setAttribute(a,""):w(a,d,"remove",l)||d.removeAttribute(a)}}function w(d,b,a,l){return d==="value"&&l.ignoreActiveValue&&b===document.activeElement?!0:l.callbacks.beforeAttributeUpdated(d,b,a)===!1}function k(d,b){return!!b.ignoreActiveValue&&d===document.activeElement&&d!==document.body}return h})();function c(h,u,y,x){if(h.head.block){let w=u.querySelector("head"),k=y.querySelector("head");if(w&&k){let d=p(w,k,h);return Promise.all(d).then(()=>{let b=Object.assign(h,{head:{block:!1,ignore:!0}});return x(b)})}}return x(h)}function p(h,u,y){let x=[],w=[],k=[],d=[],b=new Map;for(let l of u.children)b.set(l.outerHTML,l);for(let l of h.children){let m=b.has(l.outerHTML),f=y.head.shouldReAppend(l),v=y.head.shouldPreserve(l);m||v?f?w.push(l):(b.delete(l.outerHTML),k.push(l)):y.head.style==="append"?f&&(w.push(l),d.push(l)):y.head.shouldRemove(l)!==!1&&w.push(l)}d.push(...b.values());let a=[];for(let l of d){let m=document.createRange().createContextualFragment(l.outerHTML).firstChild;if(y.callbacks.beforeNodeAdded(m)!==!1){if("href"in m&&m.href||"src"in m&&m.src){let f,v=new Promise(function(A){f=A});m.addEventListener("load",function(){f()}),a.push(v)}h.appendChild(m),y.callbacks.afterNodeAdded(m),x.push(m)}}for(let l of w)y.callbacks.beforeNodeRemoved(l)!==!1&&(h.removeChild(l),y.callbacks.afterNodeRemoved(l));return y.head.afterHeadMorphed(h,{added:x,kept:k,removed:w}),a}let E=(function(){function h(a,l,m){let{persistentIds:f,idMap:v}=d(a,l),A=u(m),$=A.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes($))throw`Do not understand how to morph style ${$}`;return{target:a,newContent:l,config:A,morphStyle:$,ignoreActive:A.ignoreActive,ignoreActiveValue:A.ignoreActiveValue,restoreFocus:A.restoreFocus,idMap:v,persistentIds:f,pantry:y(),activeElementAndParents:x(a),callbacks:A.callbacks,head:A.head}}function u(a){let l=Object.assign({},e);return Object.assign(l,a),l.callbacks=Object.assign({},e.callbacks,a.callbacks),l.head=Object.assign({},e.head,a.head),l}function y(){let a=document.createElement("div");return a.hidden=!0,document.body.insertAdjacentElement("afterend",a),a}function x(a){let l=[],m=document.activeElement;if(m?.tagName!=="BODY"&&a.contains(m))for(;m&&(l.push(m),m!==a);)m=m.parentElement;return l}function w(a){let l=Array.from(a.querySelectorAll("[id]"));return a.getAttribute?.("id")&&l.push(a),l}function k(a,l,m,f){for(let v of f){let A=v.getAttribute("id");if(l.has(A)){let $=v;for(;$;){let _=a.get($);if(_==null&&(_=new Set,a.set($,_)),_.add(A),$===m)break;$=$.parentElement}}}}function d(a,l){let m=w(a),f=w(l),v=b(m,f),A=new Map;k(A,v,a,m);let $=l.__idiomorphRoot||l;return k(A,v,$,f),{persistentIds:v,idMap:A}}function b(a,l){let m=new Set,f=new Map;for(let{id:A,tagName:$}of a)f.has(A)?m.add(A):f.set(A,$);let v=new Set;for(let{id:A,tagName:$}of l)v.has(A)?m.add(A):f.get(A)===$&&v.add(A);for(let A of m)v.delete(A);return v}return h})(),{normalizeElement:S,normalizeParent:g}=(function(){let h=new WeakSet;function u(k){return k instanceof Document?k.documentElement:k}function y(k){if(k==null)return document.createElement("div");if(typeof k=="string")return y(w(k));if(h.has(k))return k;if(k instanceof Node){if(k.parentNode)return new x(k);{let d=document.createElement("div");return d.append(k),d}}else{let d=document.createElement("div");for(let b of[...k])d.append(b);return d}}class x{constructor(d){this.originalNode=d,this.realParentNode=d.parentNode,this.previousSibling=d.previousSibling,this.nextSibling=d.nextSibling}get childNodes(){let d=[],b=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;b&&b!=this.nextSibling;)d.push(b),b=b.nextSibling;return d}querySelectorAll(d){return this.childNodes.reduce((b,a)=>{if(a instanceof Element){a.matches(d)&&b.push(a);let l=a.querySelectorAll(d);for(let m=0;m<l.length;m++)b.push(l[m])}return b},[])}insertBefore(d,b){return this.realParentNode.insertBefore(d,b)}moveBefore(d,b){return this.realParentNode.moveBefore(d,b)}get __idiomorphRoot(){return this.originalNode}}function w(k){let d=new DOMParser,b=k.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(b.match(/<\/html>/)||b.match(/<\/head>/)||b.match(/<\/body>/)){let a=d.parseFromString(k,"text/html");if(b.match(/<\/html>/))return h.add(a),a;{let l=a.firstChild;return l&&h.add(l),l}}else{let l=d.parseFromString("<body><template>"+k+"</template></body>","text/html").body.querySelector("template").content;return h.add(l),l}}return{normalizeElement:u,normalizeParent:y}})();return{morph:t,defaults:e}})();function Jt(r,e,t={}){Kt.morph(r,e,{...t,callbacks:{beforeNodeMorphed:(o,s)=>o?.tagName?(o?.tagName?.startsWith("WA-")&&[...s.attributes,...o.attributes].forEach(n=>{s.setAttribute(n.name,n.value)}),o instanceof J&&o.morphable===!1?(o.replaceWith(s),!1):!0):!1,afterNodeMorphed(o){o instanceof J&&o.afterMorph()}}}),document.dispatchEvent(new CustomEvent("lb-morph-complete",{}))}var Fe=class{constructor(e){this.endpoint=e,this.source=null,this.broadcastChannel=this.initBroadCastChannel(),this.handlers=[],this.logger=new ne("EventsListener"),addEventListener("visibilitychange",()=>{document.hidden?this.stop():this.start()})}start(){this.source||(this.logger.debug("Starting"),this.source=this.initSource(),this.broadcastStart())}stop(){this.source&&(this.source.close(),this.source=null,this.logger.debug("Stopped"))}on(e,t){this.handlers.push({type:e,callback:t})}initSource(){let e=new EventSource(this.endpoint);return e.addEventListener("open",()=>{this.logger.debug(`Connected to '${this.endpoint}'`)}),e.addEventListener("message",t=>{let o=JSON.parse(t.data);this.broadcastChannel.postMessage(JSON.stringify(o)),this.handlers.forEach(s=>{o.type===s.type&&s.callback.call(null,o)})}),e.addEventListener("error",()=>{this.logger.warn("Event source error"),this.stop()}),window.onbeforeunload=()=>this.stop(),e}initBroadCastChannel(){let e=new BroadcastChannel("lookbook_events");return e.addEventListener("message",t=>{let o=JSON.parse(t.data);this.handlers.forEach(s=>{o.type===s.type&&s.callback.call(null,o)})}),e}broadcastStart(){this.broadcastChannel.postMessage(JSON.stringify({type:"event-source-start"}))}};var Ft=`:host {
  display: contents;
}
`;var F=class extends J{constructor(){super(),this.logger=new ne("router"),window.addEventListener("popstate",this.handlePopstate.bind(this))}connectedCallback(){super.connectedCallback(),this.delegate("click",t=>this.handleClick(t)),this.on("lb-command",t=>this.handleCommand(t));let e=lt((t,o)=>this.updateQueryParam(t,o),150);this.on("lb-param-change",({detail:t})=>e(t.name,t.value)),this.sseEndpoint&&this.listenForServerEvents()}async visit(e,t=null,o={}){e=e.toString(),arguments.length==2&&typeof t=="object"&&(o=t,t=null);let{history:s=!1}=o;await this.updatePage(e,t),s&&window.history.pushState({},"",e)}reload(){this.visit(document.location)}async reset(){localStorage.clear(),location.reload()}listenForServerEvents(){this.serverEventsListener||(this.serverEventsListener=new Fe(this.sseEndpoint),this.serverEventsListener.on("update",()=>this.updatePage()),this.serverEventsListener.start(),this.cleanupJobs.push(()=>this.serverEventsListener.stop()))}handleCommand(e){let{command:t,detail:o}=e;switch(t){case"visit":return se(o.url)?this.visit(o.url,{history:!0}):this.warn("Missing or invalid 'url' value");case"reload":return this.reload();case"reset":return this.reset();default:console.warn(`Unrecognised command '${t}'`);break}}handleClick(e){let t=e.target.closest("[href]");if(t&&zt(t)){e.preventDefault();let o=t.getAttribute("data-target");this.visit(t.href,o?`#${o}`:null,{history:!0})}}handlePopstate(){this.updatePage(document.location)}updateQueryParam(e,t){let o=new URLSearchParams(document.location.search);o.set(e,t),this.visit(`${document.location.pathname}?${o.toString()}`,{history:!0})}async updatePage(e=document.location,t=null){this.logger.debug("Updating page",{url:e,selector:t||"lb-router"});try{let o;t?o=this.querySelector(t):(t="#app",o=document.getElementById("app"));let s=await this.fetchHTML(e.toString(),t);s.ok?(this.logger.debug("Updating DOM"),Jt(o,s.fragment.outerHTML),s.title&&(document.title=s.title)):document.location.href=e.toString()}catch(o){this.logger.error(o)}}async fetchHTML(e,t="lb-router",o={headers:{}}){let s=await fetch(e||location,{...o,headers:{"X-Lookbook-Request":"true",...o.headers}}),{status:n,ok:i}=s,E={ok:i,status:n,response:s,fragment:void 0,title:null,url:s.url};if(n<500){let S=await s.text(),g=new DOMParser().parseFromString(S,"text/html");E.title=g.title,E.fragment=g.querySelector(t)}return E}render(){return Me`<slot></slot>`}};F.css=Ft,D([q({attribute:"sse"})],F.prototype,"sseEndpoint",2),D([q()],F.prototype,"serverEventsListener",2),D([q()],F.prototype,"logger",2),F=D([ot("lb-router")],F);export{F as LookbookRouter};
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
lit-html/lit-html.js:
lit-element/lit-element.js:
@lit/reactive-element/decorators/custom-element.js:
@lit/reactive-element/decorators/property.js:
@lit/reactive-element/decorators/state.js:
@lit/reactive-element/decorators/event-options.js:
@lit/reactive-element/decorators/base.js:
@lit/reactive-element/decorators/query.js:
@lit/reactive-element/decorators/query-all.js:
@lit/reactive-element/decorators/query-async.js:
@lit/reactive-element/decorators/query-assigned-nodes.js:
lit-html/directive.js:
lit-html/directives/repeat.js:
lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
lit-html/directives/if-defined.js:
lit-html/directives/style-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
lit-html/directives/live.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

hotkeys-js/dist/hotkeys-js.js:
  (*!
   * hotkeys-js v4.0.0-beta.7
   * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
   * 
   * @author kenny wong <wowohoo@qq.com>
   * @license MIT
   * @homepage https://jaywcjlove.github.io/hotkeys-js
   *)
*/
