var _=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function A(e,t,o,n){e.addEventListener?e.addEventListener(t,o,n):e.attachEvent&&e.attachEvent(`on${t}`,o)}function E(e,t,o,n){e&&(e.removeEventListener?e.removeEventListener(t,o,n):e.detachEvent&&e.detachEvent(`on${t}`,o))}function H(e,t){let o=t.slice(0,t.length-1),n=[];for(let r=0;r<o.length;r++)n.push(e[o[r].toLowerCase()]);return n}function $(e){typeof e!="string"&&(e=""),e=e.replace(/\s/g,"");let t=e.split(","),o=t.lastIndexOf("");for(;o>=0;)t[o-1]+=",",t.splice(o,1),o=t.lastIndexOf("");return t}function z(e,t){let o=e.length>=t.length?e:t,n=e.length>=t.length?t:e,r=!0;for(let c=0;c<o.length;c++)n.indexOf(o[c])===-1&&(r=!1);return r}function M(e){let t=e.keyCode||e.which||e.charCode;return e.code&&/^Key[A-Z]$/.test(e.code)&&(t=e.code.charCodeAt(3)),t}var x={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,arrowup:38,arrowdown:40,arrowleft:37,arrowright:39,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":_?173:189,"=":_?61:187,";":_?59:186,"'":222,"{":219,"}":221,"[":219,"]":221,"\\":220},h={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,meta:91,command:91},K={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},p={16:!1,18:!1,17:!1,91:!1},a={};for(let e=1;e<20;e++)x[`f${e}`]=111+e;var l=[],C=null,B="all",O=new Map,b=e=>x[e.toLowerCase()]||h[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),G=e=>Object.keys(x).find(t=>x[t]===e),J=e=>Object.keys(h).find(t=>h[t]===e),D=e=>{B=e||"all"},v=()=>B||"all",R=()=>l.slice(0),V=()=>l.map(e=>G(e)||J(e)||String.fromCharCode(e)),X=()=>{let e=[];return Object.keys(a).forEach(t=>{a[t].forEach(({key:o,scope:n,mods:r,shortcut:c})=>{e.push({scope:n,shortcut:c,mods:r,keys:o.split("+").map(y=>b(y))})})}),e},N=e=>{let t=e.target||e.srcElement,{tagName:o}=t,n=!0,r=o==="INPUT"&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(r||o==="TEXTAREA"||o==="SELECT")&&!t.readOnly)&&(n=!1),n},Z=e=>(typeof e=="string"&&(e=b(e)),l.indexOf(e)!==-1),q=(e,t)=>{let o,n;e||(e=v());for(let r in a)if(Object.prototype.hasOwnProperty.call(a,r))for(o=a[r],n=0;n<o.length;)o[n].scope===e?o.splice(n,1).forEach(({element:c})=>S(c)):n++;v()===e&&D(t||"all")};function F(e){let t=M(e);e.key&&e.key.toLowerCase()==="capslock"&&(t=b(e.key));let o=l.indexOf(t);if(o>=0&&l.splice(o,1),e.key&&e.key.toLowerCase()==="meta"&&l.splice(0,l.length),(t===93||t===224)&&(t=91),t in p){p[t]=!1;for(let n in h)h[n]===t&&(u[n]=!1)}}var U=(e,...t)=>{if(typeof e>"u")Object.keys(a).forEach(o=>{Array.isArray(a[o])&&a[o].forEach(n=>j(n)),delete a[o]}),S(null);else if(Array.isArray(e))e.forEach(o=>{o.key&&j(o)});else if(typeof e=="object")e.key&&j(e);else if(typeof e=="string"){let[o,n]=t;typeof o=="function"&&(n=o,o=""),j({key:e,scope:o,method:n,splitKey:"+"})}},j=({key:e,scope:t,method:o,splitKey:n="+"})=>{$(e).forEach(r=>{let c=r.split(n),y=c.length,s=c[y-1],f=s==="*"?"*":b(s);if(!a[f])return;t||(t=v());let k=y>1?H(h,c):[],m=[];a[f]=a[f].filter(d=>{let g=(o?d.method===o:!0)&&d.scope===t&&z(d.mods,k);return g&&m.push(d.element),!g}),m.forEach(d=>S(d))})};function T(e,t,o,n){if(t.element!==n)return;let r;if(t.scope===o||t.scope==="all"){r=t.mods.length>0;for(let c in p)Object.prototype.hasOwnProperty.call(p,c)&&(!p[c]&&t.mods.indexOf(+c)>-1||p[c]&&t.mods.indexOf(+c)===-1)&&(r=!1);(t.mods.length===0&&!p[16]&&!p[18]&&!p[17]&&!p[91]||r||t.shortcut==="*")&&(t.keys=[],t.keys=t.keys.concat(l),t.method(e,t)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function I(e,t){let o=a["*"],n=M(e);if(e.key&&e.key.toLowerCase()==="capslock"||!(u.filter||N).call(this,e))return;if((n===93||n===224)&&(n=91),l.indexOf(n)===-1&&n!==229&&l.push(n),["metaKey","ctrlKey","altKey","shiftKey"].forEach(s=>{let f=K[s];e[s]&&l.indexOf(f)===-1?l.push(f):!e[s]&&l.indexOf(f)>-1?l.splice(l.indexOf(f),1):s==="metaKey"&&e[s]&&(l=l.filter(k=>k in K||k===n))}),n in p){p[n]=!0;for(let s in h)if(Object.prototype.hasOwnProperty.call(h,s)){let f=K[h[s]];u[s]=e[f]}if(!o)return}for(let s in p)Object.prototype.hasOwnProperty.call(p,s)&&(p[s]=e[K[s]]);e.getModifierState&&!(e.altKey&&!e.ctrlKey)&&e.getModifierState("AltGraph")&&(l.indexOf(17)===-1&&l.push(17),l.indexOf(18)===-1&&l.push(18),p[17]=!0,p[18]=!0);let r=v();if(o)for(let s=0;s<o.length;s++)o[s].scope===r&&(e.type==="keydown"&&o[s].keydown||e.type==="keyup"&&o[s].keyup)&&T(e,o[s],r,t);if(!(n in a))return;let c=a[n],y=c.length;for(let s=0;s<y;s++)if((e.type==="keydown"&&c[s].keydown||e.type==="keyup"&&c[s].keyup)&&c[s].key){let f=c[s],{splitKey:k}=f,m=f.key.split(k),d=[];for(let g=0;g<m.length;g++)d.push(b(m[g]));d.sort().join("")===l.sort().join("")&&T(e,f,r,t)}}var u=function(e,t,o){l=[];let n=$(e),r=[],c="all",y=document,s=0,f=!1,k=!0,m="+",d=!1,g=!1;if(o===void 0&&typeof t=="function"&&(o=t),Object.prototype.toString.call(t)==="[object Object]"){let i=t;i.scope&&(c=i.scope),i.element&&(y=i.element),i.keyup&&(f=i.keyup),i.keydown!==void 0&&(k=i.keydown),i.capture!==void 0&&(d=i.capture),typeof i.splitKey=="string"&&(m=i.splitKey),i.single===!0&&(g=!0)}for(typeof t=="string"&&(c=t),g&&U(e,c);s<n.length;s++){let i=n[s].split(m);r=[],i.length>1&&(r=H(h,i));let w=i[i.length-1];w=w==="*"?"*":b(w),w in a||(a[w]=[]),a[w].push({keyup:f,keydown:k,scope:c,mods:r,shortcut:n[s],method:o,key:n[s],splitKey:m,element:y})}if(typeof y<"u"&&typeof window<"u"){if(!O.has(y)){let i=(L=window.event)=>I(L,y),w=(L=window.event)=>{I(L,y),F(L)};O.set(y,{keydownListener:i,keyupListenr:w,capture:d}),A(y,"keydown",i,d),A(y,"keyup",w,d)}if(!C){let i=()=>{l=[]};C={listener:i,capture:d},A(window,"focus",i,d)}}};function Q(e,t="all"){Object.keys(a).forEach(o=>{a[o].filter(n=>n.scope===t&&n.shortcut===e).forEach(n=>{n&&n.method&&n.method({},n)})})}function S(e){let t=Object.values(a).flat();if(t.findIndex(({element:o})=>o===e)<0&&e){let{keydownListener:o,keyupListenr:n,capture:r}=O.get(e)||{};o&&n&&(E(e,"keyup",n,r),E(e,"keydown",o,r),O.delete(e))}if((t.length<=0||O.size<=0)&&(Array.from(O.keys()).forEach(o=>{let{keydownListener:n,keyupListenr:r,capture:c}=O.get(o)||{};n&&r&&(E(o,"keyup",r,c),E(o,"keydown",n,c),O.delete(o))}),O.clear(),Object.keys(a).forEach(o=>delete a[o]),C)){let{listener:o,capture:n}=C;E(window,"focus",o,n),C=null}}var P={getPressedKeyString:V,setScope:D,getScope:v,deleteScope:q,getPressedKeyCodes:R,getAllKeyCodes:X,isPressed:Z,filter:N,trigger:Q,unbind:U,keyMap:x,modifier:h,modifierMap:K};for(let e in P){let t=e;Object.prototype.hasOwnProperty.call(P,t)&&(u[t]=P[t])}if(typeof window<"u"){let e=window.hotkeys;u.noConflict=t=>(t&&window.hotkeys===u&&(window.hotkeys=e),u),window.hotkeys=u}var ee=e=>{class t extends e{static{this.hotkeyScope="all"}registerHotkey(n,r,c=null){c==null&&(c=r,r={}),r.scope=this.getStaticProperty("hotkeyScope"),u(n,r,c),this.addCleanupJob(()=>u.unbind(n,r.scope))}}return t};export{ee as Hotkeyable};
/*! Bundled license information:

hotkeys-js/dist/hotkeys-js.js:
  (*!
   * hotkeys-js v4.0.0-beta.7
   * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.
   * 
   * @author kenny wong <wowohoo@qq.com>
   * @license MIT
   * @homepage https://jaywcjlove.github.io/hotkeys-js
   *)
*/
