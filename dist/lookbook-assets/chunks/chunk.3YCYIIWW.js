import{c as W}from"./chunk.DJWHC2VF.js";import{e as S}from"./chunk.XPFMMO3L.js";function n(r){return r==="__proto__"}function w(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}function s(r){var o;return typeof r=="string"||typeof r=="symbol"?r:Object.is((o=r==null?void 0:r.valueOf)==null?void 0:o.call(r),-0)?"-0":String(r)}function y(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(y).join(",");let o=String(r);return o==="0"&&Object.is(Number(r),-0)?"-0":o}function c(r){if(Array.isArray(r))return r.map(s);if(typeof r=="symbol")return[r];r=y(r);let o=[],t=r.length;if(t===0)return o;let e=0,f="",i="",m=!1;for(r.charCodeAt(0)===46&&(o.push(""),e++);e<t;){let p=r[e];i?p==="\\"&&e+1<t?(e++,f+=r[e]):p===i?i="":f+=p:m?p==='"'||p==="'"?i=p:p==="]"?(m=!1,o.push(f),f=""):f+=p:p==="["?(m=!0,f&&(o.push(f),f="")):p==="."?f&&(o.push(f),f=""):f+=p,e++}return f&&o.push(f),o}function x(r,o,t){if(r==null)return t;switch(typeof o){case"string":{if(n(o))return t;let e=r[o];return e===void 0?w(o)?x(r,c(o),t):t:e}case"number":case"symbol":{typeof o=="number"&&(o=s(o));let e=r[o];return e===void 0?t:e}default:{if(Array.isArray(o))return L(r,o,t);if(Object.is(o==null?void 0:o.valueOf(),-0)?o="-0":o=String(o),n(o))return t;let e=r[o];return e===void 0?t:e}}}function L(r,o,t){if(o.length===0)return t;let e=r;for(let f=0;f<o.length;f++){if(e==null||n(o[f]))return t;e=e[o[f]]}return e===void 0?t:e}function h(r){return r!==null&&(typeof r=="object"||typeof r=="function")}function A(r,o){return r===o||Number.isNaN(r)&&Number.isNaN(o)}var T=/^(?:0|[1-9]\d*)$/;function E(r,o=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<o;case"symbol":return!1;case"string":return T.test(r)}}function D(r){return typeof r=="symbol"||r instanceof Symbol}var C=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/;function B(r,o){return Array.isArray(r)?!1:typeof r=="number"||typeof r=="boolean"||r==null||D(r)?!0:typeof r=="string"&&(j.test(r)||!C.test(r))||o!=null&&Object.hasOwn(o,r)}var N=(r,o,t)=>{let e=r[o];(!(Object.hasOwn(r,o)&&A(e,t))||t===void 0&&!(o in r))&&(r[o]=t)};function R(r,o,t,e){if(r==null&&!h(r))return r;let f=B(o,r)?[o]:Array.isArray(o)?o:typeof o=="string"?c(o):[o],i=t(x(r,f)),m=r;for(let p=0;p<f.length&&m!=null;p++){let l=s(f[p]);if(n(l))continue;let d;if(p===f.length-1)d=i;else{let g=m[l],I=e==null?void 0:e(g,l,r);d=I!==void 0?I:h(g)?g:E(f[p+1])?[]:{}}N(m,l,d),m=m[l]}return r}function b(r,o,t){return R(r,o,()=>t,()=>{})}function a(r){var t;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){let e=r[Symbol.toStringTag];return e==null||!((t=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&t.writable)?!1:r.toString()===`[object ${e}]`}let o=r;for(;Object.getPrototypeOf(o)!==null;)o=Object.getPrototypeOf(o);return Object.getPrototypeOf(r)===o}function O(r,...o){r=Object(r);for(let t=0;t<o.length;t++){let e=o[t];e!=null&&u(r,e,new WeakMap)}return r}function u(r,o,t){for(let e in o){let f=o[e],i=r[e];if(i===void 0||!Object.hasOwn(r,e)){r[e]=M(f,t);continue}t.get(f)!==i&&_(i,f,t)}}function M(r,o){if(o.has(r))return o.get(r);if(a(r)){let t={};return o.set(r,t),u(t,r,o),t}return r}function _(r,o,t){if(a(r)&&a(o)){t.set(o,r),u(r,o,t);return}Array.isArray(r)&&Array.isArray(o)&&(t.set(o,r),q(r,o,t))}function q(r,o,t){let e=Math.min(o.length,r.length);for(let f=0;f<e;f++)a(r[f])&&a(o[f])&&u(r[f],o[f],t);for(let f=e;f<o.length;f++)r.push(o[f])}var P=class{constructor(o,t={}){this.name=o,this.setPersistedData(O({},this.getPersistedData(),t))}get(o,t=null){return x(this.getPersistedData(),o,t)}set(o,t){let e=this.getPersistedData();return b(e,o,t),this.setPersistedData(e)}getPersistedData(){return JSON.parse(localStorage.getItem(this.name)||"{}")}setPersistedData(o){return localStorage.setItem(this.name,JSON.stringify(o)),this}},wr=r=>{class o extends r{constructor(){super(...arguments);this._persistanceStore=new P(this.localName)}connectedCallback(){super.connectedCallback(),this.constructor.persist.forEach(i=>{this[i]=this._persistanceStore.get(i,this[i])})}willUpdate(f){var m;(m=super.willUpdate)==null||m.call(this,f),this.constructor.persist.forEach(p=>{f.get(p)!==void 0&&this._persistanceStore.set(p,this[p])})}}return o.persist=[],S([W()],o.prototype,"_persistanceStore",2),o};export{P as a,wr as b};
